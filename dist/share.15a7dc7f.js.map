{"version":3,"sources":["share.js"],"names":["endpoint","apiKey","timeout","form","document","querySelector","addEventListener","thanksForSharing","closeSharing","e","preventDefault","addImage","media","postData","JSON","stringify","header","elements","value","image","fetch","method","headers","body","then","res","json","data","console","log","uploadImage","input","FormData","append","files","_id","classList","remove","window","location","href"],"mappings":"AAAA;AACA,IAAMA,QAAQ,GAAG,kCAAjB,EACA;;AACA,IAAMC,MAAM,GAAG,0BAAf;AACA,IAAIC,OAAJ;AACA,IAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb;AAEAD,QAAQ,CAACC,aAAT,CAAuB,yEAAvB,EAAkGC,gBAAlG,CAAmH,OAAnH,EAA4HC,gBAA5H;AACAH,QAAQ,CAACC,aAAT,CAAuB,aAAvB,EAAsCC,gBAAtC,CAAuD,OAAvD,EAAgEE,YAAhE;AAEAL,IAAI,CAACG,gBAAL,CAAsB,QAAtB,EAAgC,UAACG,CAAD,EAAO;AACrCA,EAAAA,CAAC,CAACC,cAAF;;AACA,WAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,QAAMC,QAAQ,GAAGC,IAAI,CAACC,SAAL,CAAe;AAC9BC,MAAAA,MAAM,EAAEb,IAAI,CAACc,QAAL,CAAcD,MAAd,CAAqBE,KADC;AAE9BC,MAAAA,KAAK,EAAEP;AAFuB,KAAf,CAAjB;AAIAQ,IAAAA,KAAK,CAACpB,QAAQ,GAAG,YAAZ,EAA0B;AAC7BqB,MAAAA,MAAM,EAAE,MADqB;AAE7BC,MAAAA,OAAO,EAAE;AACP,wBAAgB,iCADT;AAEP,oBAAYrB,MAFL;AAGP,yBAAiB;AAHV,OAFoB;AAO7BsB,MAAAA,IAAI,EAAEV;AAPuB,KAA1B,CAAL,CASGW,IATH,CASQ,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,KATR,EAUGF,IAVH,CAUQ,UAACG,IAAD,EAAU;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACD,KAZH;AAaD;;AACD,WAASG,WAAT,GAAuB;AACrB,QAAIC,KAAK,GAAG3B,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,CAAZ;AACA,QAAIsB,IAAI,GAAG,IAAIK,QAAJ,EAAX;AACAL,IAAAA,IAAI,CAACM,MAAL,CAAY,MAAZ,EAAoBF,KAAK,CAACG,KAAN,CAAY,CAAZ,CAApB,EAHqB,CAIrB;;AACAd,IAAAA,KAAK,CAACpB,QAAQ,GAAG,QAAZ,EAAsB;AACzBqB,MAAAA,MAAM,EAAE,MADiB;AAEzBC,MAAAA,OAAO,EAAE;AACP,oBAAYrB;AADL,OAFgB;AAKzBsB,MAAAA,IAAI,EAAEI;AALmB,KAAtB,CAAL,CAOGH,IAPH,CAOQ,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,KAPR,EAQGF,IARH,CAQQ,UAACG,IAAD;AAAA,aAAUhB,QAAQ,CAACgB,IAAI,CAACQ,GAAN,CAAlB;AAAA,KARR;AASD;;AACDL,EAAAA,WAAW;AACZ,CArCD;;AAuCA,SAASvB,gBAAT,GAA4B;AAC1BH,EAAAA,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,EAA4C+B,SAA5C,CAAsDC,MAAtD,CAA6D,QAA7D;AACD;;AAED,SAAS7B,YAAT,GAAwB;AACtB8B,EAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,kBAAvB;AACD","file":"share.15a7dc7f.js","sourceRoot":"..","sourcesContent":["// \"https://frontendspring20-9cc3.restdb.io/media/5ecce0c99236d304001556c5?s=w\";\nconst endpoint = \"https://frontend-8e4d.restdb.io/\";\n// const endpoint2 = \"https://frontendspring20-9cc3.restdb.io/media/5ecce0c99236d304001556c5?s=w\";\nconst apiKey = \"5e9961cb436377171a0c24cc\";\nlet timeout;\nconst form = document.querySelector(\"form\");\n\ndocument.querySelector(\"#sharecon > form > label:nth-child(2) > input[type=submit]:nth-child(2)\").addEventListener(\"click\", thanksForSharing);\ndocument.querySelector(\".closeshare\").addEventListener(\"click\", closeSharing);\n\nform.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n  function addImage(media) {\n    const postData = JSON.stringify({\n      header: form.elements.header.value,\n      image: media,\n    });\n    fetch(endpoint + \"rest/media\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        \"x-apikey\": apiKey,\n        \"cache-control\": \"no-cache\",\n      },\n      body: postData,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n      });\n  }\n  function uploadImage() {\n    var input = document.querySelector('input[type=\"file\"]');\n    var data = new FormData();\n    data.append(\"file\", input.files[0]);\n    //https://frontendspring20-9cc3.restdb.io/media/\n    fetch(endpoint + \"media/\", {\n      method: \"POST\",\n      headers: {\n        \"x-apikey\": apiKey,\n      },\n      body: data,\n    })\n      .then((res) => res.json())\n      .then((data) => addImage(data._id));\n  }\n  uploadImage();\n});\n\nfunction thanksForSharing() {\n  document.querySelector(\"#thanksforsharing\").classList.remove(\"hidden\");\n}\n\nfunction closeSharing() {\n  window.location.href = \"landingpage.html\";\n}\n"]}