{"version":3,"sources":["landingpage.js"],"names":["endpoint","apiKey","timeout","time","form","document","querySelector","window","addEventListener","start","scrollTo","getPictures","removeLoader","myVar","setTimeout","showPage","style","display","e","preventDefault","addSuperhero","media","postData","JSON","stringify","header","elements","value","image","fetch","method","headers","body","then","res","json","data","console","log","showPicture","uploadImage","input","FormData","append","files","_id","pictures","data1","src","picture","changeImage","datapic2","changeImage2","datapic3"],"mappings":"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","file":"landingpage.f5da90dd.js","sourceRoot":"..","sourcesContent":["// \"https://frontendspring20-9cc3.restdb.io/media/5ecce0c99236d304001556c5?s=w\";\nconst endpoint = \"https://frontend-8e4d.restdb.io/\";\n// const endpoint2 = \"https://frontendspring20-9cc3.restdb.io/media/5ecce0c99236d304001556c5?s=w\";\nconst apiKey = \"5e9961cb436377171a0c24cc\";\nlet timeout;\nlet time;\nconst form = document.querySelector(\"form\");\n\nwindow.addEventListener(\"load\", start);\n\nfunction start() {\n  window.scrollTo(0, 0);\n  getPictures();\n  removeLoader();\n}\n\nfunction removeLoader() {\n  myVar = setTimeout(showPage, 2500);\n}\n\nfunction showPage() {\n  document.querySelector(\".preloader\").style.display = \"none\";\n}\n\nform.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n  function addSuperhero(media) {\n    const postData = JSON.stringify({\n      header: form.elements.header.value,\n      image: media,\n    });\n    fetch(endpoint + \"rest/media\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        \"x-apikey\": apiKey,\n        \"cache-control\": \"no-cache\",\n      },\n      body: postData,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        showPicture(data);\n      });\n  }\n  function uploadImage() {\n    var input = document.querySelector('input[type=\"file\"]');\n    var data = new FormData();\n    data.append(\"file\", input.files[0]);\n    //https://frontendspring20-9cc3.restdb.io/media/\n    fetch(endpoint + \"media/\", {\n      method: \"POST\",\n      headers: {\n        \"x-apikey\": apiKey,\n      },\n      body: data,\n    })\n      .then((res) => res.json())\n      .then((data) => addSuperhero(data._id));\n  }\n  uploadImage();\n});\n\nfunction getPictures() {\n  //   document.querySelector(\"main\").innerHTML = \"\";\n  fetch(endpoint + \"rest/pictures\", {\n    method: \"get\",\n    headers: {\n      \"Content-Type\": \"application/json; charrset=utf-8\",\n      \"x-apikey\": apiKey,\n      \"cache-control\": \"no-cache\",\n    },\n  })\n    .then((e) => e.json())\n    .then(showPicture);\n  //do stuff with the data\n}\n\nfunction showPicture(pictures) {\n  console.log(pictures);\n  const data = pictures;\n  const data1 = data[1];\n  console.log(data);\n  console.log(data1);\n\n  document.querySelector(\".database_img\").src = endpoint + \"media/\" + data1.picture;\n  setTimeout(() => {\n    changeImage(pictures);\n  }, 4000);\n\n  //   timeout = setTimeout(removePhoto(pictures), 8000);\n  //   setInterval(changeImage(pictures), 30000);\n}\n\nfunction changeImage(pictures) {\n  console.log(\"chaaaange\");\n  const data = pictures;\n  datapic2 = data[0];\n\n  document.querySelector(\".database_img\").src = endpoint + \"media/\" + datapic2.picture;\n\n  setTimeout(() => {\n    changeImage2(pictures);\n  }, 4000);\n}\n\nfunction changeImage2(pictures) {\n  console.log(\"chaaaange again\");\n  const data = pictures;\n  datapic3 = data[2];\n\n  document.querySelector(\".database_img\").src = endpoint + \"media/\" + datapic3.picture;\n  setTimeout(() => {\n    showPicture(pictures);\n  }, 4000);\n}\n// function removePhoto(pictures) {\n//   document.querySelector(\".database_img\").src = \"\";\n//   changePhoto(pictures);\n// }\n\n// function changePhoto(pictures) {\n//   console.log(pictures);\n//   console.log(\"change\");\n//   const data = pictures;\n//   const data2 = data[2];\n//   document.querySelector(\".database_img\").src = endpoint + \"media/\" + data2.picture;\n// }\n"]}