{"version":3,"sources":["script.js"],"names":["time","endpoint","endpoint2","endpoint3","apiKey","URL","URL2","allBeers","deletedBeers","Data","name","amount","selected","start","document","querySelector","addEventListener","showBasket","post","buyMore","get","orders","beer","elementsIndex","findIndex","element","console","log","push","innerHTML","fetch","method","headers","then","e","json","showHeroes","data","length","forEach","showHero","showTheBasket","data2","template","copy","content","cloneNode","parent","dataset","id","_id","textContent","description","overallImpression","alc","event","appendChild","classList","add","remove","style","backgroundColor","display","dest","temp","order","klon","removeBeer","addBeer","setTimeout","fetchData","postData","JSON","stringify","body","res","showId","fetchOrders","showOrders","people","queue","last","window"],"mappings":"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","file":"script.1abe577d.js","sourceRoot":"..","sourcesContent":["const endpoint = \"https://kirchris.herokuapp.com/beertypes\";\nconst endpoint2 = \"https://frontend-8e4d.restdb.io/rest/pictures\";\nconst endpoint3 = \"https://frontend-8e4d.restdb.io/home/media\";\nconst apiKey = \"5e9961cb436377171a0c24cc\";\nconst URL = \"https://kirchris.herokuapp.com/\";\nconst URL2 = \"https://kirchris.herokuapp.com/order\";\nlet time;\nconst allBeers = [];\nlet deletedBeers = [];\nconst Data = {\n  name: \"\",\n  amount: 0,\n  selected: false,\n};\n\nwindow.addEventListener(\"DOMContentLoaded\", start);\n\n// window.addEventListener(\"load\", (e) => {\n//   document.querySelector(\"button\").addEventListener(\"click\", () => {\n//     const Beer = {\n//       name: beer.name,\n//       amount: 1,\n//     };\n//     orders(Beer);\n//   });\n// });\n\nfunction start() {\n  document.querySelector(\".basket_button\").addEventListener(\"click\", showBasket);\n  document.querySelector(\".order_button\").addEventListener(\"click\", post);\n  document.querySelector(\".buymore\").addEventListener(\"click\", buyMore);\n  // document.querySelector(\"#addpic\").addEventListener(\"click\", () => {\n  //   document.getElementById(\"picture\").value = picture.value.substring(12);\n  //   const pictureData = {\n  //     picture: picture.value,\n  //   };\n  //   postPicture(pictureData);\n  // });\n  get();\n}\nfunction orders(beer) {\n  // 1\n  // find ud af om øllen findes i array'et\n  const elementsIndex = allBeers.findIndex((element) => element.name == beer.name);\n  console.log(elementsIndex);\n\n  if (elementsIndex === -1) {\n    // øllen findes ikke\n    allBeers.push({\n      name: beer.name,\n      amount: 1,\n    });\n  } else {\n    allBeers[elementsIndex].amount += 1;\n  }\n  console.log(allBeers);\n}\n\nfunction get() {\n  document.querySelector(\"main\").innerHTML = \"\";\n  fetch(endpoint, {\n    method: \"get\",\n    headers: {\n      \"Content-Type\": \"application/json; charrset=utf-8\",\n    },\n  })\n    .then((e) => e.json())\n    .then(showHeroes);\n  //do stuff with the data\n}\n\nget();\n\nfunction showHeroes(data) {\n  if (data.length > 10) {\n    data.length = 10;\n  }\n  data.forEach(showHero);\n}\n\nfunction showTheBasket(data2) {\n  data2.forEach(showBasket);\n}\n\nfunction showHero(beer) {\n  console.log(beer);\n  const template = document.querySelector(\".template_one\").content;\n  const copy = template.cloneNode(true);\n  const parent = document.querySelector(\"main\");\n  copy.querySelector(\"article\").dataset.id = beer._id;\n  copy.querySelector(\"h2\").textContent = beer.name;\n  copy.querySelector(\".overall\").textContent = beer.description.overallImpression;\n  copy.querySelector(\".alc\").textContent = beer.alc + \"%vol\";\n\n  // IMAGE\n  // if (beer.name == \"Fairy Tale Ale\") {\n  //   copy.querySelector(\"img\").src = \"/beer1.png\";\n  // }\n\n  // copy.querySelector(\".content\").dataset.icon = beer.name;\n\n  // SKAL I POP-UP\n  // copy.querySelector(\"p\").textContent = beer.category;\n  // copy.querySelector(\".aroma\").textContent = \"Aroma: \" + beer.description.aroma;\n  // copy.querySelector(\".appearance\").textContent = \"Appearance: \" + beer.description.appearance;\n  // copy.querySelector(\".pour\").textContent = \"Puringspeed: \" + beer.pouringSpeed;\n  copy.querySelector(\"button\").addEventListener(\"click\", (event) => {\n    orders(beer);\n  });\n  const ul = copy.querySelector(\"ul\");\n  parent.appendChild(copy);\n}\n\nfunction showBasket(beer) {\n  document.querySelector(\"#menucard\").classList.add(\"none\");\n  document.querySelector(\".basketbut_con\").classList.add(\"hidden\");\n\n  document.querySelector(\".thecontainer\").classList.remove(\".thecontainer\");\n  document.querySelector(\".thecontainer\").classList.add(\".smallercontainer\");\n  document.querySelector(\".navigation\").style.backgroundColor = \"white\";\n\n  document.querySelector(\"#basket\").style.display = \"block\";\n  const dest = document.querySelector(\"#liste\");\n  const temp = document.querySelector(\".template_two\");\n  dest.textContent = \"\";\n\n  allBeers.forEach((order) => {\n    console.log(order);\n    const klon = temp.cloneNode(true).content;\n\n    klon.querySelector(\".beername\").textContent = order.name;\n    klon.querySelector(\".amount\").textContent = \"x\" + order.amount;\n    klon.querySelector(\".remove\").addEventListener(\"click\", () => {\n      console.log(\"going to remove\");\n      removeBeer(order);\n    });\n\n    klon.querySelector(\".tobasket\").addEventListener(\"click\", () => {\n      console.log(\"wanna add one more\");\n      addBeer(order);\n    });\n\n    document.querySelector(\".order_button\").addEventListener(\"click\", () => {\n      console.log(\"wanna pay and see ID\");\n\n      time = setTimeout(fetchData, 10);\n    });\n    dest.appendChild(klon);\n  });\n}\n\nfunction removeBeer(order) {\n  console.log(\"removing beer\");\n  const elementsIndex = allBeers.findIndex((element) => element.name == order.name);\n  allBeers[elementsIndex].amount -= 1;\n  showBasket();\n  // order.deleted = true;\n}\n\nfunction addBeer(order) {\n  console.log(\"removing beer\");\n  const elementsIndex = allBeers.findIndex((element) => element.name == order.name);\n  allBeers[elementsIndex].amount += 1;\n  showBasket();\n  // deletedBeers.push(order);\n}\n\n// function orders(beer) {\n//   // 1\n//   // find ud af om øllen findes i array'et\n//   const elementsIndex = allBeers.findIndex((element) => element.name == beer.name);\n//   console.log(elementsIndex);\n\n//   if (elementsIndex === -1) {\n//     // øllen findes ikke\n//     allBeers.push({\n//       name: beer.name,\n//       amount: 1,\n//     });\n//   } else {\n//     allBeers[elementsIndex].amount += 1;\n//   }\n//   console.log(allBeers);\n// }\n\nfunction buyMore() {\n  document.querySelector(\"#menucard\").classList.remove(\"none\");\n  document.querySelector(\".basketbut_con\").classList.remove(\"hidden\");\n\n  document.querySelector(\".thecontainer\").classList.add(\".thecontainer\");\n  document.querySelector(\".thecontainer\").classList.remove(\".smallercontainer\");\n  document.querySelector(\".navigation\").style.backgroundColor = \"white\";\n}\n\nfunction post() {\n  const Data = allBeers;\n  const postData = JSON.stringify(Data);\n  fetch(\"https://kirchris.herokuapp.com/order\", {\n    method: \"post\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n    },\n    body: postData,\n  })\n    .then((res) => res.json())\n    .then((Data) => console.log(Data));\n}\n\nfunction fetchData() {\n  fetch(URL)\n    .then((res) => res.json())\n    .then(showId);\n}\n\nfunction fetchOrders() {\n  fetch(URL2)\n    .then((res) => res.json())\n    .then(showOrders);\n}\n\nfunction showId(data) {\n  document.querySelector(\"#show_con\").classList.remove(\"hidden\");\n  const people = data.queue;\n  var last = people[people.length - 1];\n  const uno = people[0];\n\n  document.querySelector(\".showit\").textContent = \"Dit ordre nummer er: \" + last.id;\n  document.querySelector(\".infront\").textContent = \"Der er \" + people.length + \" personer foran dig\";\n}\n\nfunction showOrders() {\n  const order = order;\n  console.log(order);\n}\n"]}